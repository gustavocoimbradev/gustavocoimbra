<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gustavo Coimbra</title>
    <link rel="stylesheet" href="assets/css/style.min.css">
</head>
<body>
    <main>
        <section class="s-hero" id="hero">
            <div class="c-container">
                <script defer>
                    document.addEventListener('DOMContentLoaded', function(event) {
                        const container = document.querySelector('.s-hero .c-container');
                        axios.get('/api/hero.json')
                        .then(function(response) {
                            const data = response.data;
                            const html = `
                                <h1>${data.heading}</h1>
                                <p>${data.description}</p>
                                <a href="${data.button.href}" target="${data.button.target}" class="c-button">${data.button.title}</a>    
                            `;
                            container.insertAdjacentHTML('beforeend', html);
                        })
                    })
                </script>
            </div>
        </section>
        <section class="s-about" id="about">
            <div class="c-container">
                <script defer>
                    document.addEventListener('DOMContentLoaded', function(event) {
                        const container = document.querySelector('.s-about .c-container');
                        axios.get('/api/about.json')
                        .then(function(response){
                            const data = response.data;
                            const html = `
                                <h5>${data.preheading}</h5>
                                <h1>${data.heading}</h1>
                                <h6>${data.subheading}</h6>
                                <p>${data.description}</p>
                            `;
                            container.insertAdjacentHTML('beforeend', html);
                        })
                    })
                </script>
            </div>
        </section>
        <section class="s-experiences" id="experiences">
            <div class="c-container">
                <script defer>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        const container = document.querySelector('.s-experiences .c-container');
                        axios.get('/api/experiences.json')
                        .then(function(response){
                            const data = response.data;
                            const items = data.items;
                            let html = `
                                <h5>${data.preheading}</h5>
                                <h1>${data.heading}</h1>
                            `;
                            items.forEach(function(item,index){
                                if (index === 0) html += `<div>` 
                                html += `
                                    <article>
                                        <h3>${item.company}</h3>
                                        <small>${item.duration}</small>
                                        <p>${item.description}</p>
                                    </article>
                                `;
                                if (index === items.length) html += `</div>` 
                            })
                            container.insertAdjacentHTML('beforeend', html);
                        })
                    })
                </script>
            </div>
        </section>
        <section class="s-portfolio" id="portfolio">
            <div class="c-container">
                <script defer>
                    document.addEventListener('DOMContentLoaded', (event) => {
                        const container = document.querySelector('.s-portfolio .c-container');
                        axios.get('/api/portfolio.json')
                        .then(function(response){
                            const data = response.data;
                            const items = data.items;
                            let html = `
                                <h5>${data.preheading}</h5>
                                <h1>${data.heading}</h1>
                            `;
                            items.forEach(function(item,index){
                                if (index === 0) html += `<div>` 
                                const badges = item.badges;
                                let badgesHTML = '';
                                badges.forEach(function(badge,_){
                                    badgesHTML += `
                                        <span>${badge.label}</span>
                                    `;
                                });
                                html += `
                                    <figure class="js-toggle-portfolio">
                                        <img src="${item.image}" alt="" width="400" height="800">
                                        <figcaption>
                                            <h2>${item.name}</h2>
                                            <p>${item.description}</p>
                                        </figcaption>
                                        <div>${badgesHTML}</div>
                                    </figure>
                                `;
                                if (index === items.length) html += `</div>` 
                            })
                            container.insertAdjacentHTML('beforeend', html);
                        })
                    })
                </script>
            </div>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</body>
</html>